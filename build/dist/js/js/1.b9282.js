webpackJsonp([1],{"4GPM":function(e,t){},Cvau:function(e,t,n){"use strict";e.exports=function(e){if(!Array.isArray(e))throw new TypeError("Expected Array, got "+typeof e);for(var t,n,i=e.length,a=e.slice();i;)t=Math.floor(Math.random()*i--),n=a[i],a[i]=a[t],a[t]=n;return a}},I2RN:function(e,t){},K2BN:function(e,t,n){var i,a,r,o;
/*!
	Autosize 3.0.21
	license: MIT
	http://www.jacklmoore.com/autosize
*/
/*!
	Autosize 3.0.21
	license: MIT
	http://www.jacklmoore.com/autosize
*/
o=function(e,t){"use strict";var n,i,a="function"==typeof Map?new Map:(n=[],i=[],{has:function(e){return n.indexOf(e)>-1},get:function(e){return i[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),i.push(t))},delete:function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),i.splice(t,1))}}),r=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){r=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function o(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!a.has(e)){var t,n=null,i=e.clientWidth,o=null,l=function(){e.clientWidth!==i&&d()},s=function(t){window.removeEventListener("resize",l,!1),e.removeEventListener("input",d,!1),e.removeEventListener("keyup",d,!1),e.removeEventListener("autosize:destroy",s,!1),e.removeEventListener("autosize:update",d,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),a.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",s,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",d,!1),window.addEventListener("resize",l,!1),e.addEventListener("input",d,!1),e.addEventListener("autosize:update",d,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",a.set(e,{destroy:s,update:d}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),n="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(n)&&(n=0),d()}function u(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function c(){var t=e.style.height,a=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),r=document.documentElement&&document.documentElement.scrollTop;e.style.height="auto";var o=e.scrollHeight+n;0!==e.scrollHeight?(e.style.height=o+"px",i=e.clientWidth,a.forEach(function(e){e.node.scrollTop=e.scrollTop}),r&&(document.documentElement.scrollTop=r)):e.style.height=t}function d(){c();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),i="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(i!==t?"hidden"===n.overflowY&&(u("scroll"),c(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(u("hidden"),c(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),o!==i){o=i;var a=r("autosize:resized");try{e.dispatchEvent(a)}catch(e){}}}}function l(e){var t=a.get(e);t&&t.destroy()}function s(e){var t=a.get(e);t&&t.update()}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((u=function(e){return e}).destroy=function(e){return e},u.update=function(e){return e}):((u=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return o(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e},u.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],s),e}),t.exports=u},a=[t,e],void 0===(r="function"==typeof(i=o)?i.apply(t,a):i)||(e.exports=r)},S0Cs:function(e,t){},"g+c8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("3cXf"),a=n.n(i),r=n("ZLEe"),o=n.n(r),l=n("qWCq"),s=(String,{name:"tip",props:{align:{type:String,default:"left"}}}),u={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"vux-group-tip",style:{"text-align":this.align}},[this._t("default")],2)},staticRenderFns:[]};var c=n("C7Lr")(s,u,!1,function(e){n("S0Cs")},null,null).exports,d=n("hArn"),h=n("2vzc"),p=n("hRKE"),f=n.n(p),v=function(e){return"object"===(void 0===e?"undefined":f()(e))?e.value:e},m=function(e){return"object"===(void 0===e?"undefined":f()(e))?e.key:e},g=function(e){return"object"===(void 0===e?"undefined":f()(e))?e.inlineDesc:""},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map(function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(!e.length)return t;if("string"==typeof e[0])return t;var n=e.filter(function(e){return e.key===t});return n.length?n[0].value||n[0].label:t}(e,t)})},x=n("Cvau"),b=n.n(x);d.a,h.a,l.a,String,Boolean,String,Boolean,Array,Array,Number,Number,Boolean,Boolean,Boolean,String,Boolean;var _={name:"checklist",components:{Tip:c,Icon:d.a,InlineDesc:h.a},filters:{getValue:v,getKey:m},mixins:[l.a],props:{name:String,showError:Boolean,title:String,required:{type:Boolean,default:!1},options:{type:Array,required:!0},value:{type:Array,default:function(){return[]}},max:Number,min:Number,fillMode:Boolean,randomOrder:Boolean,checkDisabled:{type:Boolean,default:!0},labelPosition:{type:String,default:"right"},disabled:Boolean},data:function(){return{currentValue:[],currentOptions:this.options,tempValue:""}},beforeUpdate:function(){if(this.isRadio){var e=this.currentValue.length;e>1&&(this.currentValue=[this.currentValue[e-1]]);var t=w(this.currentValue);this.tempValue=t.length?t[0]:""}},created:function(){this.handleChangeEvent=!0,this.value&&(this.currentValue=this.value,this.isRadio&&(this.tempValue=this.isRadio?this.value[0]:this.value)),this.randomOrder?this.currentOptions=b()(this.options):this.currentOptions=this.options},methods:{getValue:v,getKey:m,getInlineDesc:g,getFullValue:function(){var e=y(this.options,this.value);return this.currentValue.map(function(t,n){return{value:t,label:e[n]}})},isDisabled:function(e){return!!this.checkDisabled&&(this._max>1&&(-1===this.currentValue.indexOf(e)&&this.currentValue.length===this._max))}},computed:{isRadio:function(){return void 0!==this.max&&1===this.max},_total:function(){return this.fillMode?this.options.length+1:this.options.length},_min:function(){if(!this.required&&!this.min)return 0;if(!this.required&&this.min)return Math.min(this._total,this.min);if(this.required){if(this.min){var e=Math.max(1,this.min);return Math.min(this._total,e)}return 1}},_max:function(){return(this.required||this.max)&&this.max?this.max>this._total?this._total:this.max:this._total},valid:function(){return this.currentValue.length>=this._min&&this.currentValue.length<=this._max}},watch:{tempValue:function(e){var t=e?[e]:[];this.$emit("input",t),this.$emit("on-change",t,y(this.options,t))},value:function(e){a()(e)!==a()(this.currentValue)&&(this.currentValue=e)},options:function(e){this.currentOptions=e},currentValue:function(e){var t=w(e);if(!this.isRadio){this.$emit("input",t),this.$emit("on-change",t,y(this.options,t));var n={};this._min&&(this.required?this.currentValue.length<this._min&&(n={min:this._min}):this.currentValue.length&&this.currentValue.length<this._min&&(n={min:this._min})),!this.valid&&this.dirty&&o()(n).length?this.$emit("on-error",n):this.$emit("on-clear-error")}}}};function w(e){return JSON.parse(a()(e))}var V={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.disabled?"vux-checklist-disabled":""},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.title,expression:"title"}],staticClass:"weui-cells__title"},[e._v(e._s(e.title))]),e._v(" "),e._t("after-title"),e._v(" "),n("div",{staticClass:"weui-cells weui-cells_checkbox"},e._l(e.currentOptions,function(t,i){return n("label",{staticClass:"weui-cell weui-check_label",class:{"vux-checklist-label-left":"left"===e.labelPosition},attrs:{for:"checkbox_"+e.uuid+"_"+i}},[n("div",{staticClass:"weui-cell__hd"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"weui-check",attrs:{type:"checkbox",name:"vux-checkbox-"+e.uuid,id:e.disabled?"":"checkbox_"+e.uuid+"_"+i,disabled:e.isDisabled(e.getKey(t))},domProps:{value:e.getKey(t),checked:Array.isArray(e.currentValue)?e._i(e.currentValue,e.getKey(t))>-1:e.currentValue},on:{change:function(n){var i=e.currentValue,a=n.target,r=!!a.checked;if(Array.isArray(i)){var o=e.getKey(t),l=e._i(i,o);a.checked?l<0&&(e.currentValue=i.concat([o])):l>-1&&(e.currentValue=i.slice(0,l).concat(i.slice(l+1)))}else e.currentValue=r}}}),e._v(" "),n("i",{staticClass:"weui-icon-checked vux-checklist-icon-checked"})]),e._v(" "),n("div",{staticClass:"weui-cell__bd"},[n("p",{domProps:{innerHTML:e._s(e.getValue(t))}}),e._v(" "),e.getInlineDesc(t)?n("inline-desc",[e._v(e._s(e.getInlineDesc(t)))]):e._e()],1)])})),e._v(" "),e._t("footer")],2)},staticRenderFns:[]};var S=n("C7Lr")(_,V,!1,function(e){n("hbdW")},null,null).exports,k=n("CKVb"),C=n("K2BN"),E=n.n(C),$=(l.a,h.a,String,String,Boolean,Number,String,String,String,Boolean,Boolean,Number,Number,Number,String,String,String,String,Boolean,{name:"x-textarea",minxins:[l.a],mounted:function(){var e=this;this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$nextTick(function(){e.autosize&&e.bindAutosize()})},components:{InlineDesc:h.a},props:{title:String,inlineDesc:String,showCounter:{type:Boolean,default:!0},max:Number,value:String,name:String,placeholder:String,readonly:Boolean,disabled:Boolean,rows:{type:Number,default:3},cols:{type:Number,default:30},height:Number,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},autosize:Boolean},created:function(){this.currentValue=this.value},watch:{autosize:function(e){this.unbindAutosize(),e&&this.bindAutosize()},value:function(e){this.currentValue=e},currentValue:function(e){this.max&&e&&e.length>this.max&&(this.currentValue=e.slice(0,this.max)),this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue)}},data:function(){return{hasRestrictedLabel:!1,currentValue:""}},computed:{count:function(){var e=0;return this.currentValue&&(e=this.currentValue.replace(/\n/g,"aa").length),e>this.max?this.max:e},textareaStyle:function(){if(this.height)return{height:this.height+"px"}},labelStyles:function(){return{width:this.$parent.labelWidth||this.labelWidth+"em",textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelWidth:function(){return this.title.replace(/[^x00-xff]/g,"00").length/2+1},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{updateAutosize:function(){E.a.update(this.$refs.textarea)},bindAutosize:function(){E()(this.$refs.textarea)},unbindAutosize:function(){E.a.destroy(this.$refs.textarea)},focus:function(){this.$refs.textarea.focus()}},beforeDestroy:function(){this.unbindAutosize()}}),z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"weui-cell vux-x-textarea"},[n("div",{staticClass:"weui-cell__hd"},[e.hasRestrictedLabel?n("div",{style:e.labelStyles},[e._t("restricted-label")],2):e._e(),e._v(" "),e._t("label",[e.title?n("label",{staticClass:"weui-label",class:e.labelClass,style:{width:e.$parent.labelWidth||e.labelWidth+"em",textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight},domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e.inlineDesc?n("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()])],2),e._v(" "),n("div",{staticClass:"weui-cell__bd"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"textarea",staticClass:"weui-textarea",style:e.textareaStyle,attrs:{autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled,name:e.name,rows:e.rows,cols:e.cols,maxlength:e.max},domProps:{value:e.currentValue},on:{focus:function(t){e.$emit("on-focus")},blur:function(t){e.$emit("on-blur")},input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showCounter&&e.max,expression:"showCounter && max"}],staticClass:"weui-textarea-counter",on:{click:e.focus}},[n("span",[e._v(e._s(e.count))]),e._v("/"+e._s(e.max)+"\n    ")])])])},staticRenderFns:[]};var N=n("C7Lr")($,z,!1,function(e){n("I2RN")},null,null).exports,A=(d.a,Boolean,String,{name:"check-icon",components:{Icon:d.a},methods:{updateValue:function(){this.$emit("update:value",!this.value)}},props:{value:{type:Boolean,default:!1},type:{type:String,default:"default"}}}),B={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vux-check-icon",on:{click:e.updateValue}},[n("icon",{directives:[{name:"show",rawName:"v-show",value:"default"===e.type&&e.value,expression:"type === 'default' && value"}],attrs:{type:"success"}}),e._v(" "),n("icon",{directives:[{name:"show",rawName:"v-show",value:"plain"===e.type&&e.value,expression:"type === 'plain' && value"}],attrs:{type:"success_circle"}}),e._v(" "),n("icon",{directives:[{name:"show",rawName:"v-show",value:!e.value,expression:"!value"}],attrs:{type:"circle"}}),e._v(" "),n("span",[e._t("default")],2)],1)},staticRenderFns:[]};var L=n("C7Lr")(A,B,!1,function(e){n("4GPM")},null,null).exports,M=n("IXui"),O=n("fvyU"),R=n("pxwZ"),T=n("8e4C"),W=(k.a,M.a,O.a,{name:"AddOpinion",components:{Group:k.a,Checklist:S,XTextarea:N,CheckIcon:L,XButton:M.a,XInput:O.a},data:function(){return{disabled:!0,radioValue:["建议"],radioList:["建议","投诉"],textareaValue:"",information:""}},created:function(){this.$store.commit("updateTitle",T.a)},methods:{check:function(){""!=this.textareaValue?this.disabled=!1:this.disabled=!0},typeChange:function(e){console.log(a()(e)),this.radioValue=e},submitOpinion:function(){var e=this,t={openid:"o8pDO0drJXdhFw4Wl7ry3EVzjHlM",opinion:this.textareaValue,type:"建议"===this.radioValue[0]?"2":"1",information:this.information};console.log(a()(t)),this.$store.commit("updateLoading",!0),R.a.addOpinion(t).then(function(t){e.$store.commit("updateLoading",!1),0===t.code?e.$vux.toast.text("提交成功.","middle"):e.$vux.toast.text(t.message,"middle")},function(t){e.$store.commit("updateLoading",!1)})}}}),D={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-opinion"},[n("div",{staticClass:"type"},[n("checklist",{attrs:{title:"建议类型",options:e.radioList,max:1},on:{"on-change":e.typeChange},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}})],1),e._v(" "),n("group",[n("x-textarea",{attrs:{max:120,placeholder:"建议 或投诉内容"},on:{"on-change":e.check},model:{value:e.textareaValue,callback:function(t){e.textareaValue=t},expression:"textareaValue"}})],1),e._v(" "),n("group",[n("x-input",{attrs:{title:"联系方式",placeholder:"邮箱/QQ/手机号"},model:{value:e.information,callback:function(t){e.information=t},expression:"information"}})],1),e._v(" "),n("div",{staticStyle:{padding:"25px"}},[n("x-button",{attrs:{disabled:e.disabled,type:"primary","action-type":"submit"},nativeOn:{click:function(t){return e.submitOpinion(t)}}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var F=n("C7Lr")(W,D,!1,function(e){n("lk9T")},null,null);t.default=F.exports},hbdW:function(e,t){},lk9T:function(e,t){}});