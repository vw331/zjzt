webpackJsonp([6],{PHeM:function(t,e,s){"use strict";var i=s("7+S+"),a=(Object,Object,{name:"card",props:{header:Object,footer:Object},methods:{onClickFooter:function(){this.footer.link&&Object(i.a)(this.footer.link,this.$router),this.$emit("on-click-footer")}}}),n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"weui-panel weui-panel_access"},[t.header&&t.header.title?s("div",{staticClass:"weui-panel__hd",domProps:{innerHTML:t._s(t.header.title)},on:{click:function(e){t.$emit("on-click-header")}}}):t._e(),t._v(" "),t._t("header"),t._v(" "),s("div",{staticClass:"weui-panel__bd"},[s("div",{staticClass:"vux-card-content"},[t._t("content")],2)]),t._v(" "),s("div",{staticClass:"weui-panel__ft"},[t.footer&&t.footer.title?s("a",{staticClass:"weui-cell weui-cell_access weui-cell_link",attrs:{href:"javascript:"},on:{click:t.onClickFooter}},[s("div",{staticClass:"weui-cell__bd",domProps:{innerHTML:t._s(t.footer.title)}})]):t._e()]),t._v(" "),t._t("footer")],2)},staticRenderFns:[]};var o=s("C7Lr")(a,n,!1,function(t){s("d7Vj")},null,null);e.a=o.exports},TnHG:function(t,e){},Y3RJ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("3cXf"),a=s.n(i),n=s("PHeM"),o=s("5CvF"),r=s("4rfY"),c=s("pxwZ"),l=s("8e4C"),u=s("VKKs"),d=s("ZpOu"),_=(n.a,o.a,r.a,d.a,{name:"DispatchList",components:{Card:n.a,Flexbox:o.a,FlexboxItem:r.a,NoPermission:d.a},created:function(){this.$store.commit("updateTitle",l.e);var t=u.b.get(l.b);l.c&&console.log("bind="+a()(t)),null!==t&&(this.role=t.role);var e=this.$store.state.user.routeName;"TruckInfo"===e&&"承运商"===this.role||"DispatchList"===e&&"司机"===this.role?this.hasPermission=!0:this.hasPermission=!1,this.hasPermission&&this.getDispatchList()},data:function(){return{items:"",role:"",hasPermission:!1,noContent:!1}},methods:{getDispatchList:function(){var t=this;this.$store.commit("updateLoading",!0),c.a.getDispatchList().then(function(e){t.$store.commit("updateLoading",!1),0===e.code?(t.items=e.data,0===t.items.length?t.noContent=!0:t.noContent=!1):t.$vux.toast.text(e.message,"middle")},function(e){t.$store.commit("updateLoading",!1)})},toTruckOrDriver:function(t){var e={truck_loading_no:t.bol_code,openid:""};"司机"===this.role?this.$router.push({path:"/init/driverOperation",query:e}):"承运商"===this.role&&this.$router.push({path:"/init/truckbill",query:e})},dispatchStatus:function(t){var e="";switch(t){case"0":e="待接收";break;case"1":e="已调度";break;case"2":e="已拒绝"}return e}}}),h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dispatch-list"},[t.hasPermission?s("div",[0===t.items.length&&t.noContent?s("div",{staticClass:"no-content"},[t._v("列表内容为空.")]):t._e(),t._v(" "),t._l(t.items,function(e){return s("card",{key:e.index,staticClass:"item-card",nativeOn:{click:function(s){t.toTruckOrDriver(e)}}},[s("div",{staticClass:"vux-1px-b card-header",attrs:{slot:"header"},slot:"header"},[s("span",{staticClass:"pull-right",class:{"text-warning":"0"==e.dispatch_status,"text-danger":"2"==e.dispatch_status,"text-success":"1"==e.dispatch_status}},[t._v(t._s(t.dispatchStatus(e.dispatch_status)))]),t._v(" "),s("span",[s("strong",[t._v("调度单号: "+t._s(e.bol_code))])])]),t._v(" "),s("div",{staticClass:"card-body",attrs:{slot:"content"},slot:"content"},[s("p",[t._v("承运商："+t._s(e.carrier_name)+" "),s("span",{staticClass:"phone"},[t._v("手机号："+t._s(e.carrier_phone))])]),t._v(" "),s("p",[t._v("提货地址："+t._s(e.extract_site))]),t._v(" "),s("p",[t._v("交货地址："+t._s(e.delivery_site))]),t._v(" "),s("p",{staticClass:"text-muted small"},[s("flexbox",[s("flexbox-item",[t._v("重量："+t._s(e.weight)+" kg  ")]),t._v(" "),s("flexbox-item",[t._v("体积："+t._s(e.volume)+" m³ ")]),t._v(" "),s("flexbox-item",[t._v("件数 : "+t._s(e.total_quantity))])],1)],1)])])})],2):s("no-permission")],1)},staticRenderFns:[]};var v=s("C7Lr")(_,h,!1,function(t){s("TnHG")},null,null);e.default=v.exports},d7Vj:function(t,e){}});